(function(e){function t(t){for(var r,i,a=t[0],s=t[1],u=t[2],m=0,f=[];m<a.length;m++)i=a[m],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&f.push(c[i][0]),c[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==c[s]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},c={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/xkcd-comics/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"263a":function(e,t,n){"use strict";var r=n("cd11"),c=n.n(r);c.a},"4d55":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{" sulphur ":e.isSulphurFontSelected},attrs:{id:"app"}},[n("div",{staticClass:"font-select"},[n("input",{attrs:{type:"checkbox",id:"sulphurSelected"},domProps:{checked:e.isSulphurFontSelected},on:{change:function(t){e.isSulphurFontSelected=!e.isSulphurFontSelected}}}),n("label",{attrs:{for:"sulphurSelected","aria-label":""}},[e._v("Use Sulphur Point as font")])]),n("router-view")],1)},o=[],i={data:function(){return{isSulphurFontSelected:!1}}},a=i,s=(n("5c0b"),n("2877")),u=Object(s["a"])(a,c,o,!1,null,null,null),l=u.exports,m=n("8c4f"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[e._m(0),n("ComicGrid")],1)},d=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",{staticClass:"title"},[e._v(" The "),n("b",[e._v("latest")]),e._v(" comics ")])}],C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"grid-wrapper"},[e.loading?n("LoadingSpinner"):n("div",{staticClass:"grid"},[e._l(e.comics,(function(t){return n("div",{key:t.num,staticClass:"comic",on:{click:function(n){return e.enterComicPage(n,t)}}},[n("div",{staticClass:"comic-thumbnail"},[n("p",{staticClass:"comic-title"},[e._v(e._s(t.title))]),n("img",{attrs:{alt:t.alt,src:t.img}})])])}))],2)],1)},p=[],O=(n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("96cf"),n("1da1")),v=n("ade3"),_=n("2f62"),b=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},h=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"spinner-container"},[n("div",{staticClass:"lds-roller"},[n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div")])])}],S={name:"LoadingSpinner"},E=S,I=(n("79b5"),Object(s["a"])(E,b,h,!1,null,"1e4a2666",null)),g=I.exports;function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){Object(v["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={name:"ComicGrid",computed:T({},Object(_["c"])(["comics","loading"])),methods:T({},Object(_["b"])(["fetchComics","selectComic"]),{enterComicPage:function(e,t){var n=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.selectComic(t);case 2:n.$router.push("/"+t.num);case 3:case"end":return e.stop()}}),e)})))()}}),created:function(){this.fetchComics()},components:{LoadingSpinner:g}},w=y,L=(n("263a"),Object(s["a"])(w,C,p,!1,null,"6439f780",null)),R=L.exports,P={name:"Home",components:{ComicGrid:R}},D=P,N=(n("f174"),Object(s["a"])(D,f,d,!1,null,"143280c0",null)),A=N.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.loading?n("LoadingSpinner"):e.selectedComic.num&&!e.loading?n("div",{staticClass:"comic"},[n("router-link",{staticClass:"back",attrs:{to:"/"}},[e._v("< Back")]),n("br"),n("h2",[e._v("Comic #"+e._s(e.selectedComic.num))]),n("p",[e._v(" Published "+e._s(e.selectedComic.year+"/"+e.selectedComic.month+"/"+e.selectedComic.day)+" ")]),n("div",{staticClass:"nav-buttons"},[e.selectedComic.num>1?n("router-link",{staticClass:"nav-button",attrs:{to:"/"+(e.selectedComic.num-1)}},[e._v("< Previous")]):n("span",[e._v("This is the first comic")]),!e.currentComic||e.selectedComic.num<e.currentComic.num?n("router-link",{staticClass:"nav-button",attrs:{to:"/"+(e.selectedComic.num+1)}},[e._v("Next >")]):n("span",[e._v("This is the latest comic")])],1),n("h1",[e._v(e._s(e.selectedComic.title))]),n("img",{staticClass:"comic-img",attrs:{alt:e.selectedComic.alt,src:e.selectedComic.img}})],1):n("div",{staticClass:"comic-not-found"},[n("h2",[e._v("This comic was not found")]),n("router-link",{staticClass:"nav-button",attrs:{to:"/"+e.currentComic.num}},[e._v("Show latest comic")])],1)],1)},x=[];function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){Object(v["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U={computed:F({},Object(_["c"])(["selectedComic","currentComic","loading"])),methods:F({},Object(_["b"])(["fetchComicByNumber","fetchCurrentComic"])),created:function(){var e=this.$route.params.id;if(this.selectedComic.num!==e){var t=this.$route.params.id;this.fetchComicByNumber(t)}this.currentComic&&this.currentComic.num||this.fetchCurrentComic()},watch:{$route:function(e){this.fetchComicByNumber(e.params.id)}},components:{LoadingSpinner:g}},G=U,$=(n("ca63"),Object(s["a"])(G,M,x,!1,null,null,null)),H=$.exports;r["a"].use(m["a"]);var V,B=[{path:"/",name:"home",component:A},{path:"/:id",component:H,name:"comic"}],J=new m["a"]({routes:B}),q=J,z=(n("99af"),n("d81d"),n("d3b7"),n("3ca3"),n("ddb0"),n("7338")),K=n.n(z),Q={START_LOADING:"START_LOADING",FINISH_LOADING:"FINISH_LOADING",SET_CURRENT_COMIC:"SET_CURRENT_COMIC",SET_CURRENT_COMIC_FAILED:"SET_CURRENT_COMIC_FAILED",SET_PREVIOUS_COMICS:"SET_PREVIOUS_COMICS",SET_PREVIOUS_COMICS_FAILED:"SET_PREVIOUS_COMICS_FAILED",SELECT_COMIC:"SELECT_COMIC",SELECT_COMIC_FAILED:"SELECT_COMIC_FAILED"},W=K.a.create({baseURL:"/xkcd-comics/"});r["a"].use(_["a"]);var X="/info.0.json",Y=10;function Z(e){for(var t=[],n=1;n<Y;n++){var r="/".concat(e-n,"/info.0.json");t.push(W.get(r))}return t}var ee=new _["a"].Store({state:{currentComic:{},previousComics:[],comics:[],selectedComic:{},loading:!1},getters:{loading:function(e){return e.loading},comics:function(e){return e.comics},currentComic:function(e){return e.currentComic},selectedComic:function(e){return e.selectedComic}},mutations:(V={},Object(v["a"])(V,Q.START_LOADING,(function(e){e.loading=!0})),Object(v["a"])(V,Q.FINISH_LOADING,(function(e){e.loading=!1})),Object(v["a"])(V,Q.SET_CURRENT_COMIC,(function(e,t){e.currentComic=t})),Object(v["a"])(V,Q.SET_CURRENT_COMIC_FAILED,(function(e,t){console.error(t),e.loading=!1})),Object(v["a"])(V,Q.SET_PREVIOUS_COMICS,(function(e,t){e.previousComics=t,e.comics=[e.currentComic].concat(e.previousComics)})),Object(v["a"])(V,Q.SET_PREVIOUS_COMICS_FAILED,(function(e,t){t.loading=!1,console.error(e)})),Object(v["a"])(V,Q.SELECT_COMIC,(function(e,t){e.selectedComic=t})),Object(v["a"])(V,Q.SELECT_COMIC_FAILED,(function(e,t){e.loading=!1,e.selectedComic={},console.error(t)})),V),actions:{fetchCurrentComic:function(e){var t=e.commit;return Object(O["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t(Q.START_LOADING),e.next=4,W.get("".concat(X));case 4:n=e.sent,r=n.data,t(Q.SET_CURRENT_COMIC,r),t(Q.FINISH_LOADING),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),t(Q.SET_CURRENT_COMIC_FAILED,e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},fetchComicByNumber:function(e,t){var n=e.commit;return Object(O["a"])(regeneratorRuntime.mark((function e(){var r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n(Q.START_LOADING),e.next=4,W.get("".concat(t,"/info.0.json"));case 4:r=e.sent,c=r.data,console.log(c),n(Q.SELECT_COMIC,c),n(Q.FINISH_LOADING),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),n(Q.SELECT_COMIC_FAILED,e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},fetchComics:function(e){var t=e.commit,n=e.dispatch,r=e.state;return Object(O["a"])(regeneratorRuntime.mark((function e(){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t(Q.START_LOADING),e.next=4,n("fetchCurrentComic");case 4:c=Z(r.currentComic.num),Promise.all(c).then((function(e){t(Q.SET_PREVIOUS_COMICS,e.map((function(e){return e.data})))})),t(Q.FINISH_LOADING),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),t(Q.SET_COMICS_FAILED,e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},selectComic:function(e,t){var n=e.commit;n(Q.SELECT_COMIC,t)}},modules:{}});r["a"].config.productionTip=!1,new r["a"]({router:q,store:ee,render:function(e){return e(l)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var r=n("9c0c"),c=n.n(r);c.a},"79b5":function(e,t,n){"use strict";var r=n("4d55"),c=n.n(r);c.a},"8af6":function(e,t,n){},"9c0c":function(e,t,n){},bef6:function(e,t,n){},ca63:function(e,t,n){"use strict";var r=n("bef6"),c=n.n(r);c.a},cd11:function(e,t,n){},f174:function(e,t,n){"use strict";var r=n("8af6"),c=n.n(r);c.a}});
//# sourceMappingURL=app.d785f75d.js.map